<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>üíµ Banca Segura üíµ</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/tsparticles@3.1.0/tsparticles.min.bundle.js"></script>
    <style>
        /* ==================================== */
        /* 1. VARI√ÅVEIS E GERAL                 */
        /* ==================================== */
        :root {
            --bg-color: #121826; /* Azul marinho escuro */
            --container-bg: rgba(30, 40, 50, 0.5); /* Cinza escuro transparente */
            --text-color-primary: #ffffff;
            --text-color-secondary: #c0c0c0;
            --accent-color-1: #00aaff; /* Azul el√©trico */
            --accent-color-2: #66b3ff; /* Azul claro */
            --button-turbo-bg: #444;
            --button-turbo-active: #ffdd00;
            --spin-speed-duration: 0.8s;
            --spin-delay-base: 30ms;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background-color: var(--bg-color);
            margin: 0;
            padding: 0;
            text-align: center;
            color: var(--text-color-primary);
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            position: relative;
            overflow: hidden;
        }

        #tsparticles {
            position: fixed;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            z-index: -1;
        }

        .container {
            background-color: var(--container-bg);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            padding: 40px;
            border-radius: 20px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
            max-width: 600px;
            width: 90%;
            position: relative;
            z-index: 1;
        }

        /* ==================================== */
        /* Novo Bot√£o de Dep√≥sito               */
        /* ==================================== */
        .deposit-btn {
            position: absolute;
            top: 20px;
            right: 20px;
            background-color: #2ecc71; /* Um verde chamativo */
            color: white;
            border: none;
            border-radius: 8px;
            padding: 10px 20px;
            font-size: 1em;
            font-weight: 600;
            cursor: pointer;
            transition: background-color 0.3s, transform 0.2s;
            z-index: 10;
        }

        .deposit-btn:hover {
            background-color: #27ae60;
            transform: scale(1.05);
        }

        .deposit-btn:active {
            transform: scale(0.95);
        }

        h1 {
            font-size: 2.5em;
            color: var(--accent-color-1);
            text-shadow: 0 0 10px rgba(0, 170, 255, 0.5);
            font-weight: 700;
        }

        .balance {
            font-size: 1.4em;
            margin: 20px 0;
            font-weight: 400;
            color: var(--text-color-secondary);
        }

        /* ==================================== */
        /* 2. MENU DE APOSTA                    */
        /* ==================================== */
        .bet-menu {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 20px;
        }

        .bet-menu-btn {
            background-color: rgba(255, 255, 255, 0.1);
            color: var(--text-color-primary);
            border: 1px solid var(--accent-color-2);
            border-radius: 5px;
            padding: 10px 15px;
            font-size: 1em;
            cursor: pointer;
            transition: background-color 0.2s, transform 0.2s, box-shadow 0.2s;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
            min-width: 70px;
        }

        .bet-menu-btn:hover {
            background-color: rgba(102, 179, 255, 0.3);
            transform: translateY(-2px);
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
        }

        .bet-menu-btn:active, .bet-menu-btn.active-bet {
            transform: scale(0.95);
            background-color: var(--accent-color-2);
            border-color: var(--accent-color-2);
            box-shadow: 0 0 15px var(--accent-color-2);
            color: #121826;
            font-weight: 600;
        }

        /* ==================================== */
        /* 3. CAIXA DE MULTIPLICADOR            */
        /* ==================================== */
        .multiplier-box {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 160px;
            height: 80px;
            background-color: var(--accent-color-1);
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.3);
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s ease, transform 0.3s ease;
            z-index: 10;
        }

        .multiplier-box.visible {
            opacity: 1;
            animation: riseUp 1.2s cubic-bezier(0.68, -0.55, 0.27, 1.55) forwards;
        }

        @keyframes riseUp {
            0% { transform: translateY(20px) scale(0.8) translate(-50%, -50%); opacity: 0; }
            50% { transform: translateY(0px) scale(1.1) translate(-50%, -50%); opacity: 1; }
            100% { transform: translateY(0px) scale(1) translate(-50%, -50%); opacity: 1; }
        }

        .multiplier-box span {
            font-size: 2.8em;
            font-weight: 700;
            color: #ffffff;
            text-shadow: 2px 2px 5px rgba(0,0,0,0.3);
        }

        /* ==================================== */
        /* 4. M√ÅQUINA DE CA√áA-N√çQUEIS           */
        /* ==================================== */
        .slot-machine {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin: 30px auto;
            width: 360px;
            height: 320px;
            background-color: rgba(0, 0, 0, 0.2);
            border: 2px solid var(--accent-color-1);
            border-radius: 12px;
            box-shadow: inset 0 0 10px rgba(0,0,0,0.3);
            overflow: hidden;
            position: relative;
        }

        .column {
            width: 120px;
            height: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
        }

        .symbol {
            width: 100%;
            height: 106px;
            font-size: 2.5em;
            font-weight: 700;
            color: var(--text-color-primary);
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: rgba(255, 255, 255, 0.1);
            transition: transform var(--spin-speed-duration) cubic-bezier(0.25, 1, 0.5, 1);
        }

        .highlight {
            background-color: rgba(0, 170, 255, 0.2) !important;
            box-shadow: 0 0 20px var(--accent-color-1);
            transform: scale(1.05);
        }

        .parallax {
            animation: parallaxScroll var(--spin-speed-duration) cubic-bezier(0.1, -0.6, 0.2, 1) forwards;
        }

        @keyframes parallaxScroll {
            0% { transform: translateY(-120px) scale(1.1); opacity: 0.5; }
            50% { transform: translateY(0px) scale(1); opacity: 1; }
            100% { transform: translateY(0px); }
        }
        
        /* Estilos do bot√£o de controle */
        .controls {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 20px;
        }

        .spin-btn, .turbo-btn {
            border: none;
            cursor: pointer;
            transition: transform 0.2s, background-color 0.3s;
            font-weight: 600;
            margin-top: 30px;
        }

        .spin-btn {
            background-color: var(--accent-color-1);
            color: var(--bg-color);
            padding: 15px 30px;
            font-size: 1.5em;
            border-radius: 8px;
            width: auto;
            height: auto;
            line-height: normal;
            display: inline-block;
            text-align: center;
            border: none;
            }

        .spin-btn:hover {
            background-color: var(--accent-color-2);
            transform: scale(1.05);
        }

        .spin-btn:active {
            transform: scale(0.95);
        }

        .spin-btn:disabled {
            background-color: #c0c0c0;
            color: #666;
            cursor: not-allowed;
            transform: none;
        }

        .turbo-btn {
            background-color: var(--button-turbo-bg);
            color: #ffffff;
            padding: 10px 20px;
            font-size: 1.2em;
            border-radius: 8px;
        }

        .turbo-btn:hover {
            background-color: #555;
            transform: scale(1.05);
        }

        .turbo-btn:disabled {
            cursor: not-allowed;
        }

        .turbo-btn.turbo-active {
            background-color: var(--button-turbo-active);
            color: var(--bg-color);
            box-shadow: 0 0 15px var(--button-turbo-active);
        }

        .result-message {
            font-size: 1.2em;
            margin-top: 30px;
            min-height: 30px;
            font-weight: 600;
        }

        .result-message.win {
            color: #39ff14; /* Verde neon para vit√≥ria */
            text-shadow: 0 0 10px rgba(57, 255, 20, 0.5);
        }

        .result-message.lose {
            color: #ff3333; /* Vermelho para derrota */
            text-shadow: 0 0 10px rgba(255, 51, 51, 0.5);
        }

        footer {
            margin-top: 40px;
            font-size: 0.9em;
            color: #c0c0c0;
        }

        /* ==================================== */
        /* 6. POPUP DE CARTAS DE B√îNUS          */
        /* ==================================== */
        .card-bonus-popup {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 100;
            backdrop-filter: blur(8px);
        }

        .card-bonus-content {
            background-color: var(--bg-color);
            padding: 50px;
            border-radius: 20px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.5);
            text-align: center;
            animation: fadeIn 0.5s ease-out;
            border: 2px solid var(--accent-color-1);
            max-width: 90%;
        }
        
        .card-container {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 30px;
            flex-wrap: wrap;
        }

        .card {
            width: 120px;
            height: 180px;
            border-radius: 12px;
            border: 3px solid #fff;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2em;
            font-weight: 700;
            color: #121826;
            transition: transform 0.3s ease;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
            position: relative;
            perspective: 1000px;
        }
        
        .card:hover {
            transform: translateY(-10px) scale(1.05);
        }

        .card.revealed {
            cursor: default;
        }

        .card-inner {
            position: relative;
            width: 100%;
            height: 100%;
            text-align: center;
            transition: transform 0.6s;
            transform-style: preserve-3d;
            
        }

        .card.revealed .card-inner {
            transform: rotateY(180deg);
        }

        .card-face {
            position: absolute;
            width: 100%;
            height: 100%;
            -webkit-backface-visibility: hidden;
            backface-visibility: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 12px;
        }

        .card-back {
            background-color: var(--accent-color-2);
            font-size: 4em;
            color: #fff;
            text-shadow: 2px 2px 5px rgba(0, 0, 0, 0.5);
        }

        .card-front {
            background-color: #fff;
            color: #121826;
            transform: rotateY(180deg);
            font-size: 2em;
        }
        
        .card-front.win-5x { background-color: #e6ff00; }
        .card-front.win-30x { background-color: #39ff14; }
        .card-front.lose { background-color: #ff3333; }
        .card-front span {
            font-weight: 700;
        }

    </style>
</head>
<body>
    <div id="tsparticles"></div>
    <div class="container">

        <button class="deposit-btn" onclick="deposit()">Depositar</button>

        <h1>üíµ Banca Segura üíµ</h1>

        <div class="balance">üí∞ Saldo: R$ <span id="balance">1000</span></div>

        <div id="multiplierBox" class="multiplier-box">
            <span id="multiplierValue">1.0x</span>
        </div>

        <div class="slot-machine" id="slotMachine"></div>
        
        <div class="controls">
            <button id="turboBtn" class="turbo-btn" onclick="toggleTurbo()">üöÄ Turbo</button>
            <button class="spin-btn" onclick="spin()">üé∞</button>
        </div>

        <div class="bet-menu">
            <button class="bet-menu-btn" data-bet="1" onclick="selectBet(1, this)">R$1</button>
            <button class="bet-menu-btn" data-bet="5" onclick="selectBet(5, this)">R$5</button>
            <button class="bet-menu-btn" data-bet="10" onclick="selectBet(10, this)">R$10</button>
            <button class="bet-menu-btn" data-bet="20" onclick="selectBet(20, this)">R$20</button>
            <button class="bet-menu-btn active-bet" data-bet="50" onclick="selectBet(50, this)">R$50</button>
            <button class="bet-menu-btn" data-bet="100" onclick="selectBet(100, this)">R$100</button>
        </div>

        <div class="result-message" id="resultMessage"></div>

        <footer>
            <p>¬© 2025 üíµ Banca Segura üíµ. Boa sorte!</p>
        </footer>
    </div>

    <div id="cardBonusPopup" class="card-bonus-popup" style="display: none;">
        <div class="card-bonus-content">
            <h2>üéâ B√¥nus de Cartas do Coringa! üéâ</h2>
            <p>Escolha uma carta e revele seu pr√™mio:</p>
            <div class="card-container">
                <div class="card" onclick="chooseCard(this, 0)">
                    <div class="card-inner">
                        <div class="card-face card-back">?</div>
                        <div class="card-face card-front"><span></span></div>
                    </div>
                </div>
                <div class="card" onclick="chooseCard(this, 1)">
                    <div class="card-inner">
                        <div class="card-face card-back">?</div>
                        <div class="card-face card-front"><span></span></div>
                    </div>
                </div>
                <div class="card" onclick="chooseCard(this, 2)">
                    <div class="card-inner">
                        <div class="card-face card-back">?</div>
                        <div class="card-face card-front"><span></span></div>
                    </div>
                </div>
                <div class="card" onclick="chooseCard(this, 3)">
                    <div class="card-inner">
                        <div class="card-face card-back">?</div>
                        <div class="card-face card-front"><span></span></div>
                    </div>
                </div>
            </div>
            <p style="margin-top: 30px;">Pr√™mio: <span id="cardPrize">0</span></p>
        </div>
    </div>


    <script>
        const emojis = ["üçí", "üçã", "üçâ", "‚≠ê", "üíé", "üîî", "üÉè"];
        const multipliers = {
            "üçí": 1.5,
            "üçã": 1.8,
            "üçâ": 2.0,
            "‚≠ê": 2.5,
            "üíé": 5.0,
            "üîî": 10.0,
            "üÉè": 0.0
        };

        const weights = {
            "üçí": 30,
            "üçã": 25,
            "üçâ": 20,
            "‚≠ê": 15,
            "üíé": 7,
            "üîî": 3,
            "üÉè": 5
        };

        let balance = 1000;
        const rows = 3;
        const cols = 3;
        let currentBet = 50;
        let isSpinning = false;
        let isBonusActive = false;
        let particlesInstance;
        let winMessages = [];
        let cardPrizes = [];

        // Vari√°veis para o modo Turbo
        let isTurboActive = false;
        const turboSpeedMultiplier = 5;

        function getWeightedSymbol() {
            const total = Object.values(weights).reduce((a, b) => a + b, 0);
            const rand = Math.random() * total;
            let sum = 0;
            for (const symbol of emojis) {
                sum += weights[symbol];
                if (rand <= sum) return symbol;
            }
            return emojis[0];
        }

        function initGrid() {
            const machine = document.getElementById("slotMachine");
            machine.innerHTML = "";
            for (let c = 0; c < cols; c++) {
                const col = document.createElement("div");
                col.className = "column";
                col.id = `col-${c}`;
                for (let r = 0; r < rows; r++) {
                    const cell = document.createElement("div");
                    cell.className = "symbol";
                    cell.id = `cell-${r}-${c}`;
                    cell.textContent = getWeightedSymbol();
                    col.appendChild(cell);
                }
                machine.appendChild(col);
            }
        }

        initGrid();

        function selectBet(betAmount, buttonElement) {
            currentBet = betAmount;
            document.querySelectorAll('.bet-menu-btn').forEach(btn => {
                btn.classList.remove('active-bet');
            });
            buttonElement.classList.add('active-bet');
        }

        document.addEventListener('DOMContentLoaded', () => {
            const defaultBetBtn = document.querySelector(`.bet-menu-btn[data-bet="50"]`);
            if (defaultBetBtn) {
                defaultBetBtn.classList.add('active-bet');
            }
        });

        function spin() {
            if (isSpinning || isBonusActive) return;
            isSpinning = true;
            document.querySelector('.spin-btn').disabled = true;
            document.getElementById('turboBtn').disabled = true; // Desabilita o bot√£o turbo durante a rodada
            winMessages = [];

            const resultMessage = document.getElementById("resultMessage");
            resultMessage.className = "result-message";

            if (currentBet > balance) {
                resultMessage.textContent = "‚ö†Ô∏è Saldo insuficiente para essa aposta.";
                isSpinning = false;
                document.querySelector('.spin-btn').disabled = false;
                document.getElementById('turboBtn').disabled = false;
                return;
            }

            for (let r = 0; r < rows; r++) {
                for (let c = 0; c < cols; c++) {
                    const cell = document.getElementById(`cell-${r}-${c}`);
                    cell.classList.remove("highlight", "parallax");
                }
            }

            balance -= currentBet;
            document.getElementById("balance").textContent = balance;
            resultMessage.textContent = "";

            let finalGrid = Array.from({ length: rows }, () => Array(cols).fill(""));

            const forceBonus = Math.random() < 0.05;
            let winningConfig = null;

            if (forceBonus) {
                const winningRow = Math.floor(Math.random() * rows);
                winningConfig = { type: "horizontal", index: winningRow, symbol: "üÉè" };
            } else {
                winningConfig = Math.random() < 0.1 ? { type: Math.random() < 0.5 ? "horizontal" : "diagonal", index: Math.floor(Math.random() * rows), symbol: getWeightedSymbol() } : null;
            }

            let finished = 0;
            for (let c = 0; c < cols; c++) {
                animateColumn(c, () => {
                    finished++;
                    if (finished === cols) {
                        checkWin(finalGrid, currentBet);
                        isSpinning = false;
                        if (!isBonusActive) {
                            document.querySelector('.spin-btn').disabled = false;
                            document.getElementById('turboBtn').disabled = false;
                        }
                    }
                }, finalGrid, winningConfig);
            }
        }

        function animateColumn(colIndex, callback, finalGrid, winConfig) {
            let count = 0;
            let steps = 20 + colIndex * 5;
            const speed = isTurboActive ? turboSpeedMultiplier : 1;
            let delay = parseFloat(getComputedStyle(document.documentElement).getPropertyValue('--spin-delay-base')) / speed;

            const interval = setInterval(() => {
                for (let r = 0; r < rows; r++) {
                    let symbol;
                    if (count >= steps) {
                        if (winConfig) {
                            if (winConfig.type === "horizontal" && r === winConfig.index && colIndex < cols) {
                                symbol = winConfig.symbol;
                            } else if (winConfig.type === "diagonal" && ((r === colIndex && winConfig.index === 0) || (r + colIndex === 2 && winConfig.index === 1))) {
                                symbol = winConfig.symbol;
                            } else {
                                symbol = getWeightedSymbol();
                            }
                        } else {
                            symbol = getWeightedSymbol();
                        }
                        finalGrid[r][colIndex] = symbol;
                    } else {
                        symbol = getWeightedSymbol();
                    }

                    const cell = document.getElementById(`cell-${r}-${colIndex}`);
                    cell.textContent = symbol;
                    cell.classList.remove("parallax");
                    void cell.offsetWidth;
                    cell.classList.add("parallax");
                }

                count++;
                if (count > steps) {
                    clearInterval(interval);
                    callback();
                }
            }, delay + (colIndex * 15 / speed));
        }

        function showMultiplier(finalMultiplier) {
            const box = document.getElementById("multiplierBox");
            const value = document.getElementById("multiplierValue");

            box.classList.add('visible');
            box.style.pointerEvents = 'auto';
            value.textContent = "1.0x";

            const duration = 1000;
            let startTime = null;

            function animate(currentTime) {
                if (!startTime) startTime = currentTime;
                const elapsed = currentTime - startTime;
                const progress = Math.min(elapsed / duration, 1);
                const currentMultiplier = 1.0 + (finalMultiplier - 1.0) * progress;

                value.textContent = `${currentMultiplier.toFixed(1)}x`;

                if (progress < 1) {
                    requestAnimationFrame(animate);
                } else {
                    value.textContent = `${finalMultiplier.toFixed(1)}x`;
                    setTimeout(() => {
                        box.classList.remove('visible');
                        box.style.pointerEvents = 'none';
                    }, 1500);
                }
            }
            requestAnimationFrame(animate);
        }

        function checkWin(grid, betAmount) {
            const resultMessage = document.getElementById("resultMessage");
            let totalWinAmount = 0;
            let hasBonus = false;
            let messageDelay = 0;

            for (let r = 0; r < rows; r++) {
                if (grid[r][0] === grid[r][1] && grid[r][1] === grid[r][2]) {
                    if (grid[r][0] === "üÉè") {
                        hasBonus = true;
                    } else {
                        const prize = betAmount * multipliers[grid[r][0]];
                        totalWinAmount += prize;
                        winMessages.push(`üéâ Trinca de ${grid[r][0]} na linha ${r + 1}! Voc√™ ganhou R$${prize.toFixed(2)}!`);
                        setTimeout(() => {
                            showMultiplier(multipliers[grid[r][0]]);
                            for (let c = 0; c < cols; c++) {
                                document.getElementById(`cell-${r}-${c}`).classList.add("highlight");
                            }
                        }, messageDelay);
                    }
                }
            }

            if (grid[0][0] === grid[1][1] && grid[1][1] === grid[2][2]) {
                if (grid[0][0] === "üÉè") {
                    hasBonus = true;
                } else {
                    const prize = betAmount * multipliers[grid[0][0]];
                    totalWinAmount += prize;
                    winMessages.push(`üéâ Trinca diagonal de ${grid[0][0]}! Voc√™ ganhou R$${prize.toFixed(2)}!`);
                    setTimeout(() => {
                        showMultiplier(multipliers[grid[0][0]]);
                        for (let i = 0; i < rows; i++) {
                            document.getElementById(`cell-${i}-${i}`).classList.add("highlight");
                        }
                    }, messageDelay);
                }
            }

            if (grid[0][2] === grid[1][1] && grid[1][1] === grid[2][0]) {
                if (grid[0][2] === "üÉè") {
                    hasBonus = true;
                } else {
                    const prize = betAmount * multipliers[grid[0][2]];
                    totalWinAmount += prize;
                    winMessages.push(`üéâ Trinca diagonal de ${grid[0][2]}! Voc√™ ganhou R$${prize.toFixed(2)}!`);
                    setTimeout(() => {
                        showMultiplier(multipliers[grid[0][2]]);
                        for (let i = 0; i < rows; i++) {
                            document.getElementById(`cell-${i}-${2 - i}`).classList.add("highlight");
                        }
                    }, messageDelay);
                }
            }
            
            if (winMessages.length > 0) {
                balance += totalWinAmount;
                document.getElementById("balance").textContent = balance;
                resultMessage.innerHTML = winMessages.join('<br>');
                resultMessage.classList.add('win');
                startParticles('win');
            } else {
                resultMessage.textContent = "üò¢ N√£o foi dessa vez...";
                resultMessage.classList.add('lose');
            }

            if (hasBonus) {
                isBonusActive = true;
                startParticles('bonus');
                resultMessage.innerHTML = winMessages.length > 0 ? `${resultMessage.innerHTML}<br>üéâ Trinca de Coringa! Escolha uma carta!` : "üéâ Trinca de Coringa! Escolha uma carta!";
                startCardBonus();
            }
        }
        
        function startCardBonus() {
            const cards = document.querySelectorAll('.card');
            cards.forEach(card => {
                card.classList.remove('revealed');
                card.style.pointerEvents = 'auto';
                card.querySelector('.card-front span').textContent = '';
                card.querySelector('.card-front').className = 'card-face card-front';
            });
            document.getElementById("cardBonusPopup").style.display = "flex";

            cardPrizes = [0, 0, 5, 30];
            cardPrizes.sort(() => Math.random() - 0.5);
        }

        function chooseCard(cardElement, index) {
            if (cardElement.classList.contains('revealed')) return;

            const cards = document.querySelectorAll('.card');
            cards.forEach(card => card.style.pointerEvents = 'none');
            
            cardElement.classList.add('revealed');
            
            const prize = cardPrizes[index];
            const prizeElement = cardElement.querySelector('.card-front span');
            
            let prizeClass = '';
            if (prize === 5) {
                prizeClass = 'win-5x';
            } else if (prize === 30) {
                prizeClass = 'win-30x';
            } else {
                prizeClass = 'lose';
            }
            cardElement.querySelector('.card-front').classList.add(prizeClass);
            
            prizeElement.textContent = `${prize}x`;

            const winAmount = currentBet * prize;
            
            setTimeout(() => {
                cards.forEach((card, i) => {
                    if (i !== index) {
                        card.classList.add('revealed');
                        const otherPrize = cardPrizes[i];
                        const otherPrizeElement = card.querySelector('.card-front span');
                        otherPrizeElement.textContent = `${otherPrize}x`;
                        
                        let otherPrizeClass = '';
                        if (otherPrize === 5) {
                            otherPrizeClass = 'win-5x';
                        } else if (otherPrize === 30) {
                            otherPrizeClass = 'win-30x';
                        } else {
                            otherPrizeClass = 'lose';
                        }
                        card.querySelector('.card-front').classList.add(otherPrizeClass);
                    }
                });

                balance += winAmount;
                document.getElementById("balance").textContent = balance;
                document.getElementById("cardPrize").textContent = `R$${winAmount.toFixed(2)} (${prize}x)`;

                if (prize > 0) {
                    showMultiplier(prize);
                }
                
                setTimeout(() => {
                    document.getElementById("cardBonusPopup").style.display = "none";
                    document.getElementById("resultMessage").textContent += `\nüéâ B√¥nus de Cartas: +R$${winAmount.toFixed(2)}!`;
                    isBonusActive = false;
                    document.querySelector('.spin-btn').disabled = false;
                    document.getElementById('turboBtn').disabled = false;
                }, 2000);

            }, 1000);
        }

        function toggleTurbo() {
            const turboBtn = document.getElementById('turboBtn');
            isTurboActive = !isTurboActive;

            const speed = isTurboActive ? turboSpeedMultiplier : 1;
            const duration = isTurboActive ? 0.8 / speed : 0.8;

            document.documentElement.style.setProperty('--spin-speed-duration', `${duration}s`);

            if (isTurboActive) {
                turboBtn.classList.add('turbo-active');
            } else {
                turboBtn.classList.remove('turbo-active');
            }
        }

        // Configura√ß√£o do tsParticles
        const particlesOptionsWin = {
            particles: {
                number: { value: 50 },
                color: { value: ["#00aaff", "#ffffff", "#66b3ff"] },
                shape: { type: "star" },
                size: { value: { min: 1, max: 5 } },
                links: { enable: false },
                move: { enable: true, speed: 6, direction: "top", outModes: "out" },
            },
            interactivity: {
                events: { onClick: { enable: true, mode: "push" }, onHover: { enable: true, mode: "repulse" } },
                modes: { push: { quantity: 4 }, repulse: { distance: 100 } },
            },
        };

        const particlesOptionsBonus = {
            particles: {
                number: { value: 80 },
                color: { value: ["#00aaff", "#66b3ff", "#ffffff"] },
                shape: { type: ["circle", "star"] },
                size: { value: { min: 3, max: 7 } },
                links: { enable: false },
                move: { enable: true, speed: 8, direction: "top", outModes: "out" },
            },
            interactivity: {
                events: { onClick: { enable: true, mode: "push" }, onHover: { enable: true, mode: "repulse" } },
                modes: { push: { quantity: 4 }, repulse: { distance: 100 } },
            },
        };

        async function startParticles(type) {
            if (particlesInstance) {
                await particlesInstance.destroy();
            }
            const particlesConfig = type === 'bonus' ? particlesOptionsBonus : particlesOptionsWin;
            particlesInstance = await tsParticles.load("tsparticles", particlesConfig);

            setTimeout(() => {
                if (particlesInstance) {
                    particlesInstance.destroy();
                    particlesInstance = null;
                }
            }, 3000);
        }

        // ... (c√≥digo existente) ...

        function deposit() {
            const depositAmount = prompt("Quanto voc√™ gostaria de depositar?");
            if (depositAmount && !isNaN(depositAmount) && depositAmount > 0) {
                balance += parseFloat(depositAmount);
                document.getElementById("balance").textContent = balance;
                alert(`Dep√≥sito de R$${parseFloat(depositAmount).toFixed(2)} realizado com sucesso! Novo saldo: R$${balance.toFixed(2)}`);
            } else {
                alert("Valor de dep√≥sito inv√°lido.");
            }
        }

// ... (c√≥digo existente) ...
    </script>
</body>
</html>
